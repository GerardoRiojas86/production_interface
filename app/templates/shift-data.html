{% extends 'base.html' %}

{% block content %}
<!-- Page template header -->
<div class="custom-header p-3 pb-md-4 mx-auto text-center">
  <h1 class="display-4 fw-normal">Shift data</h1>

  <div class="card mb-3 rounded-3">
    <div class="card-body">

      <!-- Set date for data view form-->
      <form action="/data" method="POST"> 
        <div class="row input-group mb-3">
          <input type="text" class="form-control" name='shift_date' id='inputShiftDate' placeholder="{{ shift_date }}" aria-label="{{ shift_date }}" aria-describedby="{{ shift_date }}" data-provide="datepicker" data-date-format="yyyy-mm-dd" placeholder="Pick the date">
          <button type="submit" class="btn btn-primary btn-block">Refresh</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Collection of cards layed out in rows -->
<div class="row row-cols-1 row-cols-md-12 mb-12 text-center">

  <!-- Tabs -->
  <div class="col">

    <!-- Responsive data table -->
    <div class="table-responsive">
      <table class="table text-center">
        <thead>
          <tr>
            <th style="width: 2%;">Time</th>
            <th style="width: 33%;">Produced</th>
            <th style="width: 33%;">Defects</th>
            <th style="width: 33%;">Downtime</th>
          </tr>
        </thead>
        <tbody>
          {% for key, row in data.items() %}
            <tr>
              <th scope="row" class="text-start">{{ key }}</th>
              {% if row %}
                <td>{{ row.reality }} <small>pcs</small></td>
                <td>{{ row.defects }} <small>pcs</small></td>
                <td>{{ row.downtime }} <small>mins</small></td>
              {% else %}
                <td>-</td>
                <td>-</td>
                <td>-</td>
              {% endif %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='dashboard.js') }}"></script>

<script>
</script>
{% endblock content %}